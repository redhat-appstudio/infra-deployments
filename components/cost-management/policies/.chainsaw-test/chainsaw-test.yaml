apiVersion: test.kyverno.io/v1alpha1
kind: Test
metadata:
  name: label-namespaces-tenant
spec:
  policies:
    - policy.yaml
  resources:
    - resources/namespace-matching.yaml
    - resources/namespace-nonmatching.yaml
  results:
    - kind: Namespace
      name: demo-tenant # demo
      policy: propagate-cost-center-from-namespace
      rule: propagate-cost-center-from-namespace
      result: pass
      patchedResource: resources/expected-namespace-matching.yaml
    - kind: Namespace
      name: random-ns
      policy: propagate-cost-center-from-namespace
      rule: propagate-cost-center-from-namespace
      result: skip
