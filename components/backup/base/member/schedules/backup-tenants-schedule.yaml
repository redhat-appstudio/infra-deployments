apiVersion: velero.io/v1
kind: Schedule
metadata:
  name: backup-tenants
  annotations:
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  schedule: 0 */4 * * * # every 4 hours at the top of the hour UTC
  template:
    excludedNamespaces:
      - kube-*
      - openshift*
      - appstudio*
      - admin-checker
      - application-api
      - application-service
      - appsre-vault
      - build-service
      - build-templates
      - build-templates-e2e
      - ci-helper-app
      - dedicated-admin
      - deployment-validation-operator
      - dora-metrics
      - enterprise-contract-service
      - external-secrets-operator
      - group-sync-operator
      - hac-pact-broker
      - image-controller
      - integration-service
      - internal-services
      - multi-platform-controller
      - perf-team-prometheus-reader
      - plnsvc-tests
      - quality-dashboard
      - release-service
      - tekton-results
    excludedResources:
      - pipelineruns.tekton.dev
      - pods
      - resolutionrequests.resolution.tekton.dev
      - taskruns.tekton.dev
    storageLocation: velero-aws-1
    ttl: 720h0m0s
  useOwnerReferencesInBackup: true
