apiVersion: builtin
kind: HelmChartInflationGenerator
metadata:
  name: squid-helm
name: squid-helm
repo: oci://quay.io/konflux-ci/caching
version: 0.1.633+68ec9d1
valuesInline:
  installCertManagerComponents: false
  mirrord:
    enabled: false
  test:
    enabled: false
  cert-manager:
    enabled: false
  environment: release
  replicaCount: 3
  resources:
    requests:
      cpu: 100m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 2Gi
  icapServer:
    resources:
      requests:
        cpu: 10m
        memory: 32Mi
      limits:
        cpu: 100m
        memory: 128Mi
  squidExporter:
    resources:
      requests:
        cpu: 10m
        memory: 16Mi
      limits:
        cpu: 100m
        memory: 64Mi
  cache:
    allowList:
      - ^https://cdn([0-9]{2})?\.quay\.io/.+/sha256/.+/[a-f0-9]{64}
      - ^https://s3\.[a-z0-9-]+\.amazonaws\.com/quayio-production-s3/sha256/.+/[a-f0-9]{64}
      - ^https://quayio-production-s3\.s3[a-z0-9.-]*\.amazonaws\.com/sha256/.+/[a-f0-9]{64}
    size: 1536
    maxObjectSize: 256
