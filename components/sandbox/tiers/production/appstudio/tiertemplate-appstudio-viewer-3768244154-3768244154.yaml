# ----------------------------------------------------------------
# Generated by cli - DO NOT EDIT
# ----------------------------------------------------------------

apiVersion: toolchain.dev.openshift.com/v1alpha1
kind: TierTemplate
metadata:
  name: appstudio-viewer-3768244154-3768244154
  namespace: toolchain-host-operator
spec:
  revision: 3768244154-3768244154
  template:
    apiVersion: template.openshift.io/v1
    kind: Template
    metadata: {}
    objects:
    - apiVersion: rbac.authorization.k8s.io/v1
      kind: Role
      metadata:
        name: appstudio-viewer-user-actions
        namespace: ${NAMESPACE}
      rules:
      - apiGroups:
        - appstudio.redhat.com
        resources:
        - applications
        - components
        - componentdetectionqueries
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - appstudio.redhat.com
        resources:
        - promotionruns
        - snapshotenvironmentbindings
        - snapshots
        - environments
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - appstudio.redhat.com
        resources:
        - deploymenttargets
        - deploymenttargetclaims
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - managed-gitops.redhat.com
        resources:
        - gitopsdeployments
        - gitopsdeploymentmanagedenvironments
        - gitopsdeploymentrepositorycredentials
        - gitopsdeploymentsyncruns
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - tekton.dev
        resources:
        - pipelineruns
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - results.tekton.dev
        resources:
        - results
        - records
        - logs
        verbs:
        - get
        - list
      - apiGroups:
        - appstudio.redhat.com
        resources:
        - integrationtestscenarios
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - appstudio.redhat.com
        resources:
        - enterprisecontractpolicies
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - appstudio.redhat.com
        resources:
        - releases
        - releasestrategies
        - releaseplans
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - appstudio.redhat.com
        resources:
        - releaseplanadmissions
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - ""
        resources:
        - configmaps
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - appstudio.redhat.com
        resources:
        - buildpipelineselectors
        verbs:
        - get
        - list
        - watch
      - apiGroups:
        - projctl.konflux.dev
        resources:
        - projects
        - projectdevelopmentstreams
        - projectdevelopmentstreamtemplates
        verbs:
        - get
        - list
        - watch
    - apiVersion: rbac.authorization.k8s.io/v1
      kind: RoleBinding
      metadata:
        name: appstudio-viewer-${USERNAME}-actions-user
        namespace: ${NAMESPACE}
      roleRef:
        apiGroup: rbac.authorization.k8s.io
        kind: Role
        name: appstudio-viewer-user-actions
      subjects:
      - kind: User
        name: ${USERNAME}
    - apiVersion: rbac.authorization.k8s.io/v1
      kind: RoleBinding
      metadata:
        name: appstudio-${USERNAME}-view-user
        namespace: ${NAMESPACE}
      roleRef:
        apiGroup: rbac.authorization.k8s.io
        kind: ClusterRole
        name: view
      subjects:
      - kind: User
        name: ${USERNAME}
    parameters:
    - name: NAMESPACE
      required: true
    - name: USERNAME
      required: true
  tierName: appstudio
  type: viewer
